
<div class="planning-container">
  <table>
    <thead>
      <tr>
        <th></th> <!-- Cellule vide pour l'angle supÃ©rieur gauche -->
        <th *ngFor="let jour of jours" [attr.colspan]="getCreneauxByJour(jour).length">
          {{ jour }}
        </th>
      </tr>
    </thead>
    <tbody>
      <!-- Header row with time slots -->
      <tr>
        <td></td>
        <ng-container *ngFor="let jour of jours">
          <td *ngFor="let creneau of getCreneauxByJour(jour)">
            {{ creneau.heureDebut }} - {{ creneau.heureFin }}
          </td>
        </ng-container>
      </tr>
      
      <!-- Data rows for each poste and their available spaces -->
      <ng-container *ngFor="let espace of posteEspacesMapping">
        <tr>
          <td>{{ espace.libelleEspace }}</td>
          <ng-container *ngFor="let jour of jours">
            <td *ngFor="let creneau of getCreneauxByJour(jour)">
              <button (click)="onButtonClick(creneau, espace)" [disabled]="calculateTotalPlaces(creneau.idC, espace.idEspace) <= 0">
                {{ placesRestantes(creneau.idC, espace.idEspace) }}
              </button>
            </td>
          </ng-container>
        </tr>
      </ng-container>
    </tbody>
  </table>
</div>
